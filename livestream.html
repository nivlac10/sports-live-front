<!DOCTYPE html>
<html lang="en">

    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- <link rel="icon" href="./img/main-logo.png" type="image/png"> -->

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <!-- Bootstrap Icon -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
        <link rel="stylesheet" href="./src/css/livestream.css" />
        <link rel="stylesheet" href="./src/css/livestream4-3.css" />
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <title>Document</title>
        <style>

        </style>
    </head>

    <body>
        <div id="header" class="position-sticky">
            <div class="container-fluid">
                <div class="row m-0 top-pic" style="width:100%">
                    <div class="col p-0">
                        <div id="logo">
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center" id="second-stage">
                    <div class="col-10">
                        <div class="sport-type p-0">
                            <a href="/">
                                <img src="./src/img/live_icon.svg"> ALL LIVE
                            </a>
                        </div>
                        <div class="sport-type p-0 Football">
                            <a href="/?sportType=Football">
                                <img src="./src/img/Soccer.png"> Football
                            </a>
                        </div>
                        <div class="sport-type p-0 Basketball">
                            <a href="/?sportType=Basketball">
                                <img src="./src/img/Basketball.png"> Basketball
                            </a>
                        </div>
                        <div class="sport-type p-0 Tennis">
                            <a href="/?sportType=Tennis">
                                <img src="./src/img/Tennis.png"> Tennis
                            </a>
                        </div>
                        <div class="sport-type p-0 Baseball">
                            <a href="/?sportType=Baseball">
                                <img src="./src/img/Baseball.png"> Baseball
                            </a>
                        </div>
                        <!-- <div class="sport-type p-0">
                        <img src="./src/img/Volleyball.png"> Volleyball
                    </div> -->
                    </div>
                </div>
            </div>
        </div>
        <div style="min-height: calc( 100vh - 48px - 48px);">
            <div class="container-fluid bread-container">
                <div class="row justify-content-center">
                    <div class="col-10">
                        <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item">
                                    <a href="#">
                                        <img src="">
                                        <span id="sports_type"></span>
                                    </a>
                                </li>
                                <li class="breadcrumb-item">
                                    <a href="#">
                                        <img src="">
                                        <span id="league_name"></span>
                                    </a>
                                </li>
                                <li class="breadcrumb-item active" aria-current="page">
                                    <span class="team_info"></span>
                                </li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </div>
            <div class="container-fluid pc-stream-frame">
                <div class="row justify-content-center">
                    <div class="col-10">
                        <iframe class="my-iframe" src="http://www.youtube.com/">
                            你的瀏覽器不支援 iframe
                        </iframe>
                    </div>
                </div>
            </div>
            <div class="mobile-stream-frame">
                <iframe class="my-iframe" src="http://www.youtube.com/">
                    你的瀏覽器不支援 iframe
                </iframe>
            </div>
            <div class="container-fluid">
                <div class="row justify-content-center">
                    <div class="col-10" id="stream-button-list">
                        <div class="livestreamButton" onclick="postLiveStreamSource()">
                            <!-- <div class="LiveStrem">Live Stream #1</div> -->
                            <!-- <div class="LiveStrem">Live Stream #2</div> -->
                        </div>
                    </div>
                    <div class="col p-0" id="stream-button-list-mobile" style="margin-left: 5px;">
                        <div class="livestreamButton" onclick="postLiveStreamSource()">
                            <!-- <div class="LiveStrem">Live Stream #1</div> -->
                            <!-- <div class="LiveStrem">Live Stream #2</div> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid" id="info-mobile">
                <div class="row" style="font-size:18px; font-weight:bold">
                    <span class="team_info">
                </div>
                <div style="font-size:14x">
                    <span id="game-info"></span>
                </div>
            </div>
        </div>
        <div id="footer">
            <div class="container-fluid px-4">
                <div class="row">
                    <div class="col">
                        <div id="footer-pic"></div>
                    </div>
                </div>
                <div class="row" style="margin:auto; margin-top:36px; width:420px; font-size:12px;">
                    <div class="p-0 text-center" style="width: 130px;">Terms of Ues</div>
                    <div class="p-0 text-center" style="width: 130px;">Privacy Pollcy</div>
                    <div class="p-0 text-center" style="width: 160px;">Interest-Based Ads</div>

                </div>
                <div class="row">
                    <div class="col text-center" style="margin-top:20px;font-size:12px; color:#CACACA">
                        © ESPN Enterprises, Inc. All rights reserved.
                    </div>
                </div>
            </div>
        </div>
        <div class="container" id="footer-mobile">
            <div class="row justify-content-center" id="second-stage-mobile">
                <div class="col">
                    <div class="sport-type p-0">
                        <a href="/">
                            <img src="./src/img/live_icon.svg"> ALL LIVE
                        </a>
                    </div>
                    <div class="sport-type p-0 Football">
                        <a href="/?sportType=Football">
                            <img src="./src/img/Soccer.png"> Football
                        </a>
                    </div>
                    <div class="sport-type p-0 Baseball">
                        <a href="/?sportType=Baseball">
                            <img src="./src/img/Baseball.png"> Baseball
                        </a>
                    </div>
                    <div class="sport-type p-0 Tennis">
                        <a href="/?sportType=Tennis">
                            <img src="./src/img/Tennis.png"> Tennis
                        </a>
                    </div>
                    <div class="sport-type p-0 Basketball">
                        <a href="/?sportType=Basketball">
                            <img src="./src/img/Basketball.png"> Basketball
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <script>
            let apiUrl = 'https://wc1-api.jsjs155.com/api';
            let urlList = [];

            function getQueryString(name) {
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
                var r = window.location.search.substr(1).match(reg);
                if (r != null) return unescape(r[2]);
                return null;
            }

            function changeStream(url) {
                $(".my-iframe").attr("src", urlList[url]);
            }
            $(() => {
                postLiveStreamSource();

                function postLiveStreamSource() {

                    let dataSource = {
                        uid: getQueryString("uid")
                    };
                    $.post(apiUrl + "/get_specific_stream", dataSource, function (response1) {
                        const data = response1[0];
                        const source = response1.source.find(item => item.uid === data.uid);
                        $("#league_name").html(data.league_name);
                        $("ol.breadcrumb").find("a").attr("href",
                            `/#${data.sports_type.toLowerCase()}-block`)
                        $("ol.breadcrumb").find("img").attr("src", `./src/img/${data.sports_type}.png`);
                        $("#sports_type").html(data.sports_type);
                        $(`.sport-type`).removeClass("active")
                        $(`.sport-type.${data.sports_type}`).css("color", "red")
                        $(".team_info").html(`${data.home_team} VS ${data.away_team}`);
                        $("#game-info").html(`${data.time} | ${data.league_name}`);
                        if(source.url){
                            $(".my-iframe").attr("src", source.url);
                            urlList.push(source.url);
                            for(let i=0;i<urlList.length;i++){
                                $(".livestreamButton").append(`
                                <div class="LiveStrem" onclick="changeStream(${i})"><div style="
                                    color: #FFFFFF; font-family: Microsoft Sans Serif; font-weight: bold;">
                                    Stream #${i+1}</div>
                                    </div>
                                    `)
                                }
                        }
                    });

                }




            })
        </script>
    </body>

</html>